<!doctype html>
<html lang="en">  
<head>
  <meta charset="utf-8">
  <title>Mozilla Cryptography Class</title>
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/mozilla.css" id="theme"> 
  <link rel="stylesheet" href="css/crypto-presentation.css">
  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.js"></script>
</head>
 
<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <img src="images/first-party/mozilla_wordmark.svg" style="background: none; border: 0; box-shadow: none; width: 50%;">
      </section>

      <section>
        <h2>Intro to Cryptography</h2>
        <h4><em>April King</em></h4>
        <div style="font-size: .6em; font-style: oblique; margin-top: 100px;"><a href="https://github.com/marumari/crypto-presentation/tree/gh-pages">Fork me on GitHub!</a></div>
      </section>
 
      <section>
        <ul>
          <h2>Learning Objectives</h2>
          <li>Describe the history and purpose of cryptography</li>
          <li>Build a solid understanding of cryptographic primitives</li>
          <li>Learn how cryptographic primitives are combined to make a complete cryptographic system</li>
          <li>Recognize the shortcomings and pitfalls inherent in building and implementing cryptographic systems</li>
        </ul>
      </section>
 
      <!-- Definitions below -->
      <section>
        <section>
          <h2>Cryptographic Terminology</h2>
          <p><em>Eye-glazing definitions belooooooow!</em></p>
          <h2>&darr;</h2>
        </section>

        <section>
          <dl>
            <dt>Cryptography</dt>
            <dd>Practice and study of security communications in the presence of third parties</dd>
            <dt>Plaintext (cleartext)</dt>
            <dd>Data or text that has not been encrypted</dd>
            <dt>Ciphertext</dt>
            <dd>The result of encryption performed on plaintext</dd>
          </dl>
        </section>

        <section>
          <dl>
            <dt>Algorithm</dt>
            <dd>A self-contained series of instructions that perform a function</dd>
            <dt>Cipher</dt>
            <dd>An algorithm that performs encryption and decryption</dd>
            <dt>Encryption</dt>
            <dd>Using a cipher to transform plaintext into ciphertext</dd>
            <dt>Decryption</dt>
            <dd>Using a cipher to transform ciphertext into plaintext</dd>
          </dl>
        </section>

        <section>
          <dl>
            <dt>Key</dt>
            <dd>A piece of information known only to one or both parties that is fed into a cipher and determines its output</dd>
            <dt>Key exchange</dt>
            <dd>The process by which two parties agree on upon a mutual key or key pair</dd>
            <dt>Key space</dt>
            <dd>The set of all possible keys</dd>
            <dt>Brute-force attack</dt>
            <dd>Attempting decryption with all possible key combinations until the correct key is found</dd>
          </dl>
        </section>

        <section>
          <dl>
            <dt>Cipher suite</dt>
            <dd>Combination of key exchange, authentication, encryption, and message authentication code (MAC)</dd>
            <dt>Cryptographic system (cryptosystem)</dt>
            <dd>A combination of cryptographic algorithms that implement a security service, usually encompassing key generation, encryption, and decryption</dd>
            <dt>Message authentication code (MAC)</dt>
            <dd>A small piece of information used to authenticate a message and to provide protection against tampering</dd>
          </dl>
        </section>

        <section>
          <dl>
            <dt>Cryptanalysis</dt>
            <dd>The study of breaking, weakening, or bypassing cryptosystems</dd>
            <dt>Steganography</dt>
            <dd>Concealing a message (image, file, text, etc.) within another message</dd>
            <dt>Placeholder names</dt>
            <dd>Names such as <em>Alice</em>, <em>Bob</em>, <em>Eve</em> (the eavesdropper), or <em>Mallory</em> (the malicious attacker) used as shorthand when describing cryptosystems</dd>
          </dl>
        </section>
      </section>
      <!-- End definitions -->

      <!-- Begin history -->
      <section>
        <h1>Cryptography History</h1>
        <p><em>Let's take a ride in the way back machine!</em></p>
      </section>

      <section>
        <h2>Beautiful Origin Story</h2>
        <p>...that dates back to approximately 1500 BCE</p>
        <dl class="fragment" style="margin-top: 2rem;">
          <dt>Original goal of cryptography:</dt>
          <dd>Keeping messages confidential, for the purposes of commercial trade secrets and military communications</dd>
        </dl>
      </section>

      <section>
        <h2>Historic Cryptography</h2>
        <dl>
          <dt>Substitution cipher</dt>
          <dd>Characters in plaintext are replaced with other characters</dd>
          <dt>Transposition ciphers</dt>
          <dd>Characters in plaintext are rearranged with other characters</dd>
        </dl>
        <p class="fragment" style="text-align: left;">This comprised the entirety of cryptography up until modern cryptography begins with World War II and the creation of the Enigma machine</p>
      </section>

      <section>
        <h2>Caeser Cipher</h2>
        <ul>
          <li>Shift each letter in message three characters to the left</li>
        </ul>
        <table class="substitution">
          <tr>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
            <td>F</td>
            <td>G</td>
            <td>H</td>
            <td>I</td>
            <td>J</td>
            <td>K</td>
            <td>L</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">M</td>
            <td>N</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">O</td>
            <td>P</td>
            <td>Q</td>
            <td>R</td>
            <td>S</td>
            <td>T</td>
            <td>U</td>
            <td>V</td>
            <td>W</td>
            <td>X</td>
            <td>Y</td>
            <td class="fragment highlight-current-red" data-fragment-index="3">Z</td>
          </tr>
          <tr>
            <td>X</td>
            <td>Y</td>
            <td>Z</td>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
            <td>F</td>
            <td>G</td>
            <td>H</td>
            <td>I</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">J</td>
            <td>K</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">L</td>
            <td>M</td>
            <td>N</td>
            <td>O</td>
            <td>P</td>
            <td>Q</td>
            <td>R</td>
            <td>S</td>
            <td>T</td>
            <td>U</td>
            <td>V</td>
            <td class="fragment highlight-current-red" data-fragment-index="3">W</td>
          </tr>
        </table>
        <p>Example:
          <div class="pre-box-container">
            <div class="pre-box-row">
              <span class="fragment highlight-current-red" data-fragment-index="1">M</span>
              <span class="fragment highlight-current-red" data-fragment-index="2">O</span>
              <span class="fragment highlight-current-red" data-fragment-index="3">Z</span>
              ILLA IS MY DINOSAUR
            </div>
            <div class="pre-box-row">
              <span class="fragment highlight-current-red" data-fragment-index="1">J</span>
              <span class="fragment highlight-current-red" data-fragment-index="2">L</span>
              <span class="fragment highlight-current-red" data-fragment-index="3">W</span>
              FIIX EP JV AFKLPXRO
            </div>
          </div>
        </p>
      </section>

      <section>
        <h2>Conceptualize</h2>
        <dl>
          <dt>Algorithm</dt>
          <dd>Replace each letter with the letter three characters to the left</dd>
          <dt>Cipher</dt>
          <dd>Caesar (rotational) cipher, a substitution cipher</dd>
          <dt>Key</dt>
          <dd>Key is a -3 (or 23) letter rotation (ROT-23)</dd>
          <dt>Key space</dt>
          <dd>26, since you have 26 possible rotation possibilities</dd>
        </dl>
      <p class="fragment" data-fragment-index="1" style="font-size: smaller;"><em>That said, 26 doesn't make for the best possible key</em></p>
      </section>

      <section>
        <h2>Substitution Cipher</h2>
        <ul>
          <li>Instead of shifting, match each letter to another letter randomly</li>
        </ul>
        <table class="substitution">
          <tr>
            <td>A</td>
            <td>B</td>
            <td>C</td>
            <td>D</td>
            <td>E</td>
            <td>F</td>
            <td>G</td>
            <td>H</td>
            <td>I</td>
            <td>J</td>
            <td>K</td>
            <td>L</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">M</td>
            <td>N</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">O</td>
            <td>P</td>
            <td>Q</td>
            <td>R</td>
            <td>S</td>
            <td>T</td>
            <td>U</td>
            <td>V</td>
            <td>W</td>
            <td>X</td>
            <td>Y</td>
            <td class="fragment highlight-current-red" data-fragment-index="3">Z</td>
          </tr>
          <tr>
            <td>G</td>
            <td>J</td>
            <td>Z</td>
            <td>X</td>
            <td>C</td>
            <td>K</td>
            <td>W</td>
            <td>U</td>
            <td>F</td>
            <td>E</td>
            <td>S</td>
            <td>Q</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">D</td>
            <td>A</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">P</td>
            <td>R</td>
            <td>I</td>
            <td>L</td>
            <td>O</td>
            <td>M</td>
            <td>Y</td>
            <td>T</td>
            <td>V</td>
            <td>H</td>
            <td>B</td>
            <td class="fragment highlight-current-red" data-fragment-index="3">N</td>
          </tr>
        </table>
        <p>Example:
          <div class="pre-box-container">
            <div class="pre-box-row">
              <span class="fragment highlight-current-red" data-fragment-index="1">M</span>
              <span class="fragment highlight-current-red" data-fragment-index="2">O</span>
              <span class="fragment highlight-current-red" data-fragment-index="3">Z</span>
              ILLA IS MY DINOSAUR
            </div>
            <div class="pre-box-row">
              <span class="fragment highlight-current-red" data-fragment-index="1">D</span>
              <span class="fragment highlight-current-red" data-fragment-index="2">P</span>
              <span class="fragment highlight-current-red" data-fragment-index="3">N</span>
              FQQG FO DB XFAPOGYL
          </div>
        </p>
      </section>

      <section>
        <h2>Transposition Cipher</h2>
        <ul>
          <li>Also known a permutation</li>
          <li>Encryption involves rearranging the plaintext to produce ciphertext</li>
          <li>Decryption simply involves reversing the rearrangement</li>
        </ul>
        <p class="fragment" style="font-size: smaller;"><em>Let's take a look at a simple example...</em></p>
      </section>

      <section>
        <h2>Route Cipher</h2>
        <dl style="font-size: .9em;">
          <dt>Key</dt>
          <dd>Grid is five characters wide, write text from upper left rightward. Route from lower right and spiral upward.</dd>
        </dl>
        <p>Canonicalize:</p>
        <pre style="font-size: 1em; text-align: center;"><span class="fragment highlight-red" data-fragment-index="2">MOZI</span><span class="fragment highlight-red" data-fragment-index="1">L</span>
<span class="fragment highlight-red" data-fragment-index="3">L</span><span class="fragment highlight-red" data-fragment-index="5">AI</span><span class="fragment highlight-red" data-fragment-index="4">S</span><span class="fragment highlight-red" data-fragment-index="1">M</span>
<span class="fragment highlight-red" data-fragment-index="3">Y</span><span class="fragment highlight-red" data-fragment-index="6">DI</span><span class="fragment highlight-red" data-fragment-index="4">N</span><span class="fragment highlight-red" data-fragment-index="1">O</span>
<span class="fragment highlight-red" data-fragment-index="3">S</span><span class="fragment highlight-red" data-fragment-index="4">AUR</span> 
</pre>
        <p>Example:</p>
        <div class="pre-box-container">
          <div class="pre-box-row">
            <span class="fragment highlight-red" data-fragment-index="1">MOZ</span>
            <span class="fragment highlight-red" data-fragment-index="2">ILLA</span>
            &nbsp;
            <span class="fragment highlight-red" data-fragment-index="3">IS M</span>
            <span class="fragment highlight-red" data-fragment-index="4">Y DINO</span>
            <span class="fragment highlight-red" data-fragment-index="5">SA</span>
            <span class="fragment highlight-red" data-fragment-index="6">UR</span>
          </div>
          <div class="pre-box-row">
            <span class="fragment highlight-red" data-fragment-index="1">OML</span>
            <span class="fragment highlight-red" data-fragment-index="2">IZOM</span> 
            &nbsp;
            <span class="fragment highlight-red" data-fragment-index="3">LY S</span>
            <span class="fragment highlight-red" data-fragment-index="4">A URNS</span>
            <span class="fragment highlight-red" data-fragment-index="5">IA</span>
            <span class="fragment highlight-red" data-fragment-index="6">DI</span>
          </div>
        </div>
      </section>

      <section>
        <h3>Modern ciphers still utilitize both substitution and transposition at the bit and byte level...</h3>
      </section>

      <section>
        <h3>...so why might these simple ciphers not be secure?</h3>
      </section>

      <section style="padding-top: 0;">
        <h2>Frequency Analysis</h2>
        <div>
          <img src="images/third-party/English_letter_frequency.svg" style="background: none; border: 0; box-shadow: none" height="480">
        </div>
        <p>It turns out that not every letter appears equally as often</p>
      </section>

      <section style="padding-top: 0;">
        <h2>Frequency Analysis</h2>
        <div>
          <img src="images/third-party/English_letter_frequency_perfect_crypto.svg" style="background: none; border: 0; box-shadow: none" height="480">
        </div>
        <p>Ideally, each letter should appear equally as often</p>
      </section>

      <section>
        <h3><em>Don't panic! The 1550s have us covered!</em></h3>
      </section>

      <section>
        <h2>Vigenère Cipher</h2>
        <ul>
          <li>A type of cipher known as a polyalphabetic cipher</li>
          <li>First described in the mid 1500s, it was considered the "indescipherable cipher" for over 300 years</li>
          <li>Defeats frequency analysis and eventually lead to the development of the one-time pad</li>
        </ul>
      </section>

      <section data-transition="slide-in fade-out" style="padding-top: 0;">
        <h2>Vigenère Cipher</h2>
        <div>
          <img src="images/third-party/Vigenere_square_updated.svg" style="background: none; border: 0; box-shadow: none; height: 420px; margin: 0 auto;">
        </div>
        <p>
          <div class="pre-box-container">
            <div class="pre-box-row">Plaintext:           &nbsp;MOZILLA IS MY DINOSAUR</div>
            <div class="pre-box-row">Keyword: &nbsp;&nbsp;&nbsp;WHIMSYW HI MS YWHIMSYW</div>
            <div class="pre-box-row">Ciphertext:                IVHUDJW PA YQ AEUWESSN</div>
          </div>
        </p>
      </section>

      <section data-transition="fade" data-transition-speed="fast" style="padding-top: 0;">
        <h2>Vigenère Cipher</h2>
        <div>
          <img src="images/third-party/Vigenere_square_updated_fragment2.svg" style="background: none; border: 0; box-shadow: none; height: 420px; margin: 0 auto;">
        </div>
        <p>
          <div class="pre-box-container">
            <div class="pre-box-row">Plaintext:&nbsp;&nbsp;          <span class="red">M</span>OZILLA&nbsp;IS&nbsp;MY&nbsp;DINOSAUR</div>
            <div class="pre-box-row">Keyword:&nbsp;&nbsp;&nbsp;&nbsp;<span class="red">W</span>HIMSYW&nbsp;HI&nbsp;MS&nbsp;YWHIMSYW</div>
            <div class="pre-box-row">Ciphertext:&nbsp;               <span class="red">I</span>VHUDJW&nbsp;PA&nbsp;YQ&nbsp;AEUWESSN</div>
          </div>
        </p>
      </section>

      <section data-transition="fade" data-transition-speed="fast" style="padding-top: 0;">
        <h2>Vigenère Cipher</h2>
        <div>
          <img src="images/third-party/Vigenere_square_updated_fragment3.svg" style="background: none; border: 0; box-shadow: none; height: 420px; margin: 0 auto;">
        </div>
        <p>
        <p>
          <div class="pre-box-container">
            <div class="pre-box-row">Plaintext:&nbsp;                M<span class="red">O</span>ZILLA&nbsp;IS&nbsp;MY&nbsp;DINOSAUR</div>
            <div class="pre-box-row">Keyword:&nbsp;&nbsp;&nbsp;&nbsp;W<span class="red">H</span>IMSYW&nbsp;HI&nbsp;MS&nbsp;YWHIMSYW</div>
            <div class="pre-box-row">Ciphertext:                     I<span class="red">V</span>HUDJW&nbsp;PA&nbsp;YQ&nbsp;AEUWESSN</div>
          </div>
        </p>
      </section>

      <section data-transition="fade" data-transition-speed="fast" style="padding-top: 0;">
        <h2>Vigenère Cipher</h2>
        <div>
          <img src="images/third-party/Vigenere_square_updated_fragment4.svg" style="background: none; border: 0; box-shadow: none; height: 420px; margin: 0 auto;">
        </div>
        <p>
          <div class="pre-box-container">
            <div class="pre-box-row">Plaintext:&nbsp;                MO<span class="red">Z</span>ILLA&nbsp;IS&nbsp;MY&nbsp;DINOSAUR</div>
            <div class="pre-box-row">Keyword:&nbsp;&nbsp;&nbsp;&nbsp;WH<span class="red">I</span>MSYW&nbsp;HI&nbsp;MS&nbsp;YWHIMSYW</div>
            <div class="pre-box-row">Ciphertext:                     IV<span class="red">H</span>UDJW&nbsp;PA&nbsp;YQ&nbsp;AEUWESSN</div>
          </div>
        </p>
      </section>

      <section data-transition="fade-in slide-out" style="padding-top: 0;">
        <h2>Vigenère Cipher</h2>
        <div>
          <img src="images/third-party/Vigenere_square_updated_fragment5.svg" style="background: none; border: 0; box-shadow: none; height: 360px; margin: 0 auto;">
        </div>
        <p>
          <div class="pre-box-container">
            <div class="pre-box-row">Plaintext:&nbsp;                MOZ<span class="red">I</span><span class="blue">L</span>LA&nbsp;IS&nbsp;MY&nbsp;DINOSAUR</div>
            <div class="pre-box-row">Keyword:&nbsp;&nbsp;&nbsp;&nbsp;WHI<span class="red">M</span><span class="blue">S</span>YW&nbsp;HI&nbsp;MS&nbsp;YWHIMSYW</div>
            <div class="pre-box-row">Ciphertext:                     IVH<span class="red">U</span><span class="blue">D</span>JW&nbsp;PA&nbsp;YQ&nbsp;AEUWESSN</div>
          </div>
        </p>
        <p><em>Two consecutive "L"s encrypt to different outputs</em></p>
      </section>

      <section>
        <h2>Vigenère Cipher</h2>
        <ul>
          <li>Turns out, the Vigenère cipher is completely busted</li>
          <li class="fragment" data-fragment-index="1">Sometimes patterns in the plaintext appear in the ciphertext</li>
        </ul>
        <div class="fragment pre-box-container" data-fragment-index="1">
          <div class="fragment pre-box-row" data-fragment-index="1">
            P: MOZILLA IS MY DINOSAUR A
            <span class="fragment highlight-red" data-fragment-index="1">N</span>
            <span class="fragment highlight-blue" data-fragment-index="1">D</span>
            &nbsp;FRIE
            <span class="fragment highlight-red" data-fragment-index="1">N</span>
            <span class="fragment highlight-blue" data-fragment-index="1">D</span>
          </div>
          <div class="fragment pre-box-row" data-fragment-index="1">
            K: WHIMSYW HI MS YWHIMSYW H
            <span class="fragment highlight-red" data-fragment-index="1">I</span>
            <span class="fragment highlight-blue" data-fragment-index="1">M</span>&nbsp;SYWH
            <span class="fragment highlight-red" data-fragment-index="1">I</span>
            <span class="fragment highlight-blue" data-fragment-index="1">M</span>
          </div>
          <div class="fragment pre-box-row" data-fragment-index="1">
            C: IVHUDJW PA YQ AEUWESSN H
            <span class="fragment highlight-red" data-fragment-index="1">V</span>
            <span class="fragment highlight-blue" data-fragment-index="1">P</span>
            &nbsp;XPEL
            <span class="fragment highlight-red" data-fragment-index="1">V</span>
            <span class="fragment highlight-blue" data-fragment-index="1">P</span>
          </div>
        </div>
      </section>

      <section>
        <h2>Breaking Vigenère</h2>
        <ul>
          <li>Iterate through each possible key length</li>
          <li class="fragment" data-fragment-index="1">Divide the ciphertext into chunks of that length (6)</li>
        </ul>
        <div class="fragment pre-box-container" data-fragment-index="1">
          <div class="fragment pre-box-row" data-fragment-index="1">
            <span                >C:</span>
            &nbsp;
            <span class="green"  >I</span>
            <span class="blue"   >V</span>
            <span class="purple" >H</span>
            <span class="red"    >U</span>
            <span class="pink"   >D</span>
            <span class="orange" >J</span>
            <span class="green"  >W</span>
            &nbsp;
            <span class="blue"   >P</span>
            <span class="purple" >A</span>
            &nbsp;
            <span class="red"    >Y</span>
            <span class="pink"   >Q</span>
            &nbsp;
            <span class="orange" >A</span>
            <span class="green"  >E</span>
            <span class="blue"   >U</span>
            <span class="purple" >W</span>
            <span class="red"    >E</span>
            <span class="pink"   >S</span>
            <span class="orange" >S</span>
            <span class="green"  >N</span>
            &nbsp;
            <span class="blue"   >H</span>
            <span class="purple" >V</span>
            <span class="red"    >P</span>
            &nbsp;
            <span class="pink"   >X</span>
            <span class="orange" >P</span>
            <span class="green"  >E</span>
            <span class="blue"   >L</span>
            <span class="purple" >V</span>
            <span class="red"    >P</span>
          </div>
        </div>

        <ul class="fragment" data-fragment-index="2">
          <li>Each column is a simple rotation cipher</li>
        </ul>

        <div class="fragment pre-box-container" data-fragment-index="2">
          <div class="fragment pre-box-row" data-fragment-index="2">
            <span                >C:</span>
            &nbsp;
            <span class="green"  >I</span>
            <span class="blue"   >V</span>
            <span class="purple" >H</span>
            <span class="red"    >U</span>
            <span class="pink"   >D</span>
            <span class="orange" >J</span>
            <span class="green"  >W</span>
            &nbsp;
            <span class="blue"   >P</span>
            <span class="purple" >A</span>
            &nbsp;
            <span class="red"    >Y</span>
            <span class="pink"   >Q</span>
            &nbsp;
            <span class="orange" >A</span>
            <span class="green"  >E</span>
            <span class="blue"   >U</span>
            <span class="purple" >W</span>
            <span class="red"    >E</span>
            <span class="pink"   >S</span>
            <span class="orange" >S</span>
            <span class="green"  >N</span>
            &nbsp;
            <span class="blue"   >H</span>
            <span class="purple" >V</span>
            <span class="red"    >P</span>
            &nbsp;
            <span class="pink"   >X</span>
            <span class="orange" >P</span>
            <span class="green"  >E</span>
            <span class="blue"   >L</span>
            <span class="purple" >V</span>
            <span class="red"    >P</span>
          </div>
          <div class="fragment pre-box-row" data-fragment-index="2">
            <span                                         >K:</span>
            &nbsp;
            <span class="fragment" data-fragment-index="2">W</span>
            <span class="fragment" data-fragment-index="4">H</span>
            <span class="fragment" data-fragment-index="5">I</span>
            <span class="fragment" data-fragment-index="6">M</span>
            <span class="fragment" data-fragment-index="7">S</span>
            <span class="fragment" data-fragment-index="8">Y</span>
            <span class="fragment" data-fragment-index="2">W</span>
            &nbsp;
            <span class="fragment" data-fragment-index="4">H</span>
            <span class="fragment" data-fragment-index="5">I</span>
            &nbsp;
            <span class="fragment" data-fragment-index="6">M</span>
            <span class="fragment" data-fragment-index="7">S</span>
            &nbsp;
            <span class="fragment" data-fragment-index="8">Y</span>
            <span class="fragment" data-fragment-index="2">W</span>
            <span class="fragment" data-fragment-index="4">H</span>
            <span class="fragment" data-fragment-index="5">I</span>
            <span class="fragment" data-fragment-index="6">M</span>
            <span class="fragment" data-fragment-index="7">S</span>
            <span class="fragment" data-fragment-index="8">Y</span>
            <span class="fragment" data-fragment-index="2">W</span>
            &nbsp;
            <span class="fragment" data-fragment-index="4">H</span>
            <span class="fragment" data-fragment-index="5">I</span>
            <span class="fragment" data-fragment-index="6">M</span>
            &nbsp;
            <span class="fragment" data-fragment-index="7">S</span>
            <span class="fragment" data-fragment-index="8">Y</span>
            <span class="fragment" data-fragment-index="2">W</span>
            <span class="fragment" data-fragment-index="4">H</span>
            <span class="fragment" data-fragment-index="5">I</span>
            <span class="fragment" data-fragment-index="6">M</span>
          </div>
          <div class="fragment pre-box-row" data-fragment-index="3">
            <span                >P:</span>
            &nbsp;
            <span class="fragment green"  data-fragment-index="3">M</span>
            <span class="fragment blue"   data-fragment-index="4">O</span>
            <span class="fragment purple" data-fragment-index="5">Z</span>
            <span class="fragment red"    data-fragment-index="6">I</span>
            <span class="fragment pink"   data-fragment-index="7">L</span>
            <span class="fragment orange" data-fragment-index="8">L</span>
            <span class="fragment green"  data-fragment-index="3">A</span>
            &nbsp;
            <span class="fragment blue"   data-fragment-index="4">I</span>
            <span class="fragment purple" data-fragment-index="5">S</span>
            &nbsp;
            <span class="fragment red"    data-fragment-index="6">M</span>
            <span class="fragment pink"   data-fragment-index="7">Y</span>
            &nbsp;
            <span class="fragment orange" data-fragment-index="8">D</span>
            <span class="fragment green"  data-fragment-index="3">I</span>
            <span class="fragment blue"   data-fragment-index="4">N</span>
            <span class="fragment purple" data-fragment-index="5">O</span>
            <span class="fragment red"    data-fragment-index="6">S</span>
            <span class="fragment pink"   data-fragment-index="7">A</span>
            <span class="fragment orange" data-fragment-index="8">U</span>
            <span class="fragment green"  data-fragment-index="3">R</span>
            &nbsp;
            <span class="fragment blue"   data-fragment-index="4">A</span>
            <span class="fragment purple" data-fragment-index="5">N</span>
            <span class="fragment red"    data-fragment-index="6">D</span>
            &nbsp;
            <span class="fragment pink"   data-fragment-index="7">F</span>
            <span class="fragment orange" data-fragment-index="8">R</span>
            <span class="fragment green"  data-fragment-index="3">I</span>
            <span class="fragment blue"   data-fragment-index="4">E</span>
            <span class="fragment purple" data-fragment-index="5">N</span>
            <span class="fragment red"    data-fragment-index="6">D</span>
          </div>
        </div>

        <ul class="fragment" data-fragment-index="3" style="font-size: smaller;">
            <li>To reverse a rotation of 22 (W), move the ciphertext either -22 or +4. Repeat this process for every column, and we're back to the original message.
            <span class="fragment" data-fragment-index="4">H=-8 (+18)</span>
            <span class="fragment" data-fragment-index="5">• I=-9 (+17)</span>
            <span class="fragment" data-fragment-index="6">• M=-13 (+13)</span>
            <span class="fragment" data-fragment-index="7">• S=-19 (+7)</span>
            <span class="fragment" data-fragment-index="8">• Y=-24 (+2)</span>
          </li>
        </ul>
      </section>

      <section>
        <h3>Let's take this one step further...</h3>
        <p><em>What if the key was exactly as long as the message?</em></p>
        <p style="font-size: smaller;">(and also totally random)</p>
      </section>

      <section>
        <h2>One-time Pad</h2>
        <p><em>Congratulations! You've just invented the only truly unbreakable form of cryptography.</em></p>
        <ul>
          <li>If the key is as least as long as the message and truly random, you can combine (XOR) the key and the message to create a message that can never be decrypted</li>
        </ul>
      </section>

      <section>
        <h2>XOR (exclusive or)</h2>
<!--         <table>
          <tr>
            <td>Input 1:</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">0</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">0</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">1</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">1</td>
          </tr>
          <tr>
            <td>Input 2:</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">0</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">1</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">0</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">1</td>
          </tr>
          <tr>
            <td>Output:</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">0</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">1</td>
            <td class="fragment highlight-current-red" data-fragment-index="2">1</td>
            <td class="fragment highlight-current-red" data-fragment-index="1">0</td>
          </tr>
        </table> -->
        <p class="left">XOR, sometimes written ⊕, is an operator that outputs true (1) if the elements differ and outputs false (0) if they are the same.</p>
        <ul class="fragment" data-fragment-index="1">
          <li class="fragment" data-fragment-index="1">0 ⊕ 0 == 0, as they're the same</li>
          <li class="fragment" data-fragment-index="2">0 ⊕ 1 == 1, as they're the different</li>
          <li class="fragment" data-fragment-index="3">1 ⊕ 0 == 1, as they're the different</li>
          <li class="fragment" data-fragment-index="4">1 ⊕ 1 == 0, as they're the same</li>
        </ul>
<!--         <p class="fragment current-visible red" data-fragment-index="1">(0,0) and (1,1) are the same, therefore output 0</p>
        <p class="fragment current-visible red" data-fragment-index="2">(0,1) are (1,0) are different, therefore output 1</p> -->
      </section>

      <section>
        <h2>XOR (exclusive or)</h2>
        <table>
          <tr>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">Message:</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="1">1</span></td>
          </tr>
          <tr>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">Key:</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="2">1</span></td>
          </tr>
          <tr>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">Output:</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">1</span></td>
            <td><span class="fragment highlight-current-red" data-fragment-index="3">0</span></td>
          </tr>
        </table>
        <p class="left">XOR has the special property that its output is as random as the most random input</p>
        <ul class="fragment" data-fragment-index="1">
          <li class="fragment highlight-current-red" data-fragment-index="1">Take non-random message</li>
          <li class="fragment highlight-current-red" data-fragment-index="2">Combine with random key</li>
          <li class="fragment highlight-current-red" data-fragment-index="3">Note: the output is as random as the key</li>
        </ul>
        <p class="fragment left" data-fragment-index="4">If your key is a one-time pad, then your message can never be broken!</p>
      </section>

      <section>
        <h2>One-time Pad</h2>
        <p class="left">So why don't we use one-time pads for all of our encryption, if it's so unbreakable?</p>
        <ul class="fragment" data-fragment-index="1">
          <li>First, the key needs to be at least as long as your message.  If your message is 5GB, then your key also needs to be 5GB.</li>
          <li>Also, the key can only be used once.  Key reuse reveals information about all your previous messages.</li>
        </ul>
        <p class="left fragment" data-fragment-index="1">The impracticality of having extremely long keys combined with the key reuse requirements makes the OTP infeasible for much real-world use.</p>
        <aside class="notes">
          This is because M1 ⊕ K ⊕ M2 ⊕ K == M1 ⊕ M2.
        </aside>
      </section>

      <section>
        <h1>Modern Cryptography</h1>
      </section>

      <section>
        <h2>Modern Cryptography</h2>
        <p class="left">Modern cryptography attempts to solve a number of historic cryptography problems:</p>
        <ul class="fragment" data-fragment-index="1">
          <li class="fragment" data-fragment-index="1">Key exchange: How can you get your key safely to the person you want to communicate with?</li>
          <li class="fragment" data-fragment-index="2">Key distribution: How can you keep a key safe when you have a large number of parties?</li>
          <li class="fragment" data-fragment-index="3">Key size: How can you maintain confidentiality, even with shorter key sizes?</li>
        </ul>
      </section>

      <section>
        <h2>Modern Cryptography</h2>
        <p class="left">In addition to solving the key management issue, modern cryptography provides four security guarantees:</p>
        <ul class="fragment" data-fragment-index="1">
          <li class="fragment" data-fragment-index="1">Confidentiality
            <ul class="fragment" data-fragment-index="1">
              <li><em>Can I keep my data from decrypted and read?</em></li>
            </ul>
          </li>

          <li class="fragment" data-fragment-index="2">Integrity
            <ul class="fragment" data-fragment-index="2">
              <li><em>Has my data been tampered with?</em></li>
            </ul>
          </li>

          <li class="fragment" data-fragment-index="3">Authenticity
            <ul class="fragment" data-fragment-index="3">
              <li><em>Am I communicating with the party they claim to be?</em></li>
            </ul>
          </li>

          <li class="fragment" data-fragment-index="4">Non-repudition
            <ul class="fragment" data-fragment-index="4">
              <li><em>Can somebody deny that they sent a message?</em></li>
            </ul>
          </li>
        </ul>
      </section>

      <section>
        <h3>Symmetric-key cryptography</h3>
        <p class="left">Symmetric-key cryptography, like historic cryptography, uses the same key for both <em>encryption</em> and <em>decryption</em>:</p>
        <img src="images/first-party/symmetric-key.svg" style="background: none; border: 0; box-shadow: none;" />
        <p class="fragment left">Here, plaintext is being encrypted by a key into ciphertext, and then decrypted with that same key into the original plaintext.</p>
      </section>

      <section>
        <h3>Symmetric-key cryptography</h3>
        <ul>
          <li>Advantages
            <ul>
              <li class="fragment" data-fragment-index="1">Computationally very fast and simple</li>
              <li class="fragment" data-fragment-index="2">Keys are small (typically 128-256 bits)</li>
            </ul>
          </li>
          <li>Disadvantages
            <ul>
              <li class="fragment" data-fragment-index="3">Key management is difficult, as each party requires a copy of the key</li>
              <li class="fragment" data-fragment-index="4">Provides only confidentiality, with no assurances about authenticity or integrity</li>
            </ul>
          </li>
        </ul>
        <p class="fragment left">Due to its speed, symmetric-key cryptography is primarily used for bulk encryption, using other forms of cryptography to make up for its shortcomings.</p>
      </section>

      <section>
        <h3>Symmetric-key cryptography</h3>
        <p><em>Do these names ring a bell?</em></p>
        <table class="centered">
          <tr>
            <th>Cipher</th>
            <th>Key size</th>
            <th>Type</th>
          </tr>
          <tr>
            <td><span class="fragment highlight-current-green" data-fragment-index="1">AES</span></td>
            <td><span class="fragment highlight-current-green" data-fragment-index="1">128</span>, 192, or <span class="fragment highlight-current-green" data-fragment-index="1">256</span> bits</td>
            <td>Block</td>
          </tr>
          <tr>
            <td>3DES</td>
            <td>168 bits</td>
            <td>Block</td>
          </tr>
          <tr>
            <td>RC4</td>
            <td>128 bits</td>
            <td>Stream</td>
          </tr>
          <tr>
            <td>Twofish</td>
            <td>128, 192, or 256 bits</td>
            <td>Block</td>
          </tr>
        </table>
        <p class="fragment highlight-current-green friendly-aside" data-fragment-index="1">Note that Mozilla recommends using only AES with 128-bit or 256-bit keys. When in doubt, contact your friendly neighborhood cryptographer!</p>
      </section>

      <section>
        <h2>Keys</h2>
        <p class="left">Remember that in a proper cryptosystem, the key is the only thing that keeps your data confidential. As such, keys must be:</p>
        <ul>
          <li class="fragment">Kept secure and be deleted as soon as they are no longer in use</li>
          <li class="fragment">Unrelated to any past or future key</li>
          <li class="fragment">Chosen at random from the entire key space</li>
        </ul>
      </section>

      <section>
        <h2>Key space</h2>
        <p class="left">When we talk about keys, we often say "128-bit keys" or "256-bit keys". What does that mean?</p>
        <ul>
          <li class="fragment">"128-bit" refers to the size of the <em>key space</em>. Key space is simply the number of possible keys.</li>
          <li class="fragment">Since a bit can have two values (0 or 1), a 128-bit key space has 2<sup>128</sup> possible keys.</li>
        </ul>
        <p class="fragment friendly-aside">How big is 2<sup>128</sup>?</p>
        <p class="fragment friendly-aside left">If a single key was the size of a grain of sand, the key space would be roughly 30x the size of Jupiter!</p>
        <aside class="notes">
          The Caeser cipher has a keyspace of 26, which equates to only 4.7 bits.
        </aside>
      </section>

      <section>
        <h3>Stream ciphers</h3>
          <ul>
            <li>Operate on one bit at a time</li>
            <li class="fragment">Key is combined with an initialization vector to produce a stream of bits as long as your message, known as a <em>keystream</em></li>
            <li class="fragment">Keystream is then XORed with the plaintext to produce the ciphertext</li>
            <li class="fragment">Like a one-time pad, the keystream must never be reused; the IV must change with each use</li>
          </ul>

        <aside class="notes">
          A number of systems using RC4 have been broken because the IVs weren't unique enough; see WEP and related-IV attacks
        </aside>
      </section>

      <section>
        <h3>Stream ciphers</h3>
        <img src="images/first-party/stream-cipher.svg" style="background: none; border: 0; box-shadow: none;" height="350" />
        <p class="left">A key and initialization vector are combined to generate a keystream, which is then XORed with the plaintext to generate the ciphertext</p>
      </section>

      <section>
        <h3>Block ciphers</h3>
        <ul>
          <li>Operate on a fixed-size block of data (64 or 128 bits), unlike stream ciphers</li>
          <li class="fragment">Are the most commonly used symmetric ciphers (AES, 3DES)</li>
          <li class="fragment">Use a combination of XOR, permutations, additions, multiplications, shifts, etc.</li>
          <li class="fragment">Require that data that isn't identical in length to the block size be padding, adding complexity</li>
          <li class="fragment">Like with reusing keystreams, a given block of data will always encrypt to the same output</li>
        </ul>
        <aside class="notes">
          Block sizes are typically 64 bits (DES, Blowfish) or 128 bits (AES, Twofish)
        </aside>
      </section>

      <section>
        <h3>Block ciphers</h3>
        <p><em>Why is it a problem that the same input always encrypts to the same output?</em></p>
        <ul>
          <li class="fragment">Leaks metadata about plaintext: many protocols and file formats have a identical headers</li>
          <li class="fragment">An attacker can replay the ciphertext, allowing them to forge requests</li>
          <li class="fragment">Any patterns in the plaintext will appear in the ciphertext</li>
        </ul>
      </section>

      <section>
        <h3>Block cipher modes of operation</h3>
        <ul style="font-size: smaller;">
          <li>To solve this, all block ciphers have modes of operation for their use</li>
        </ul>
        <p><img class="fragment" data-fragment-index="1" src="images/third-party/Block_mode_operation_Tux.jpg" style="height: 196px; margin: 0 auto;" /> <img class="fragment" data-fragment-index="2" src="images/third-party/Block_mode_operation_Tux_ecb.jpg" style="height: 196px; margin: 0 auto;" /> <img class="fragment" data-fragment-index="4" src="images/third-party/Block_mode_operation_Tux_secure.jpg" style="height: 196px; margin: 0 auto;" /></p>
        <ul style="font-size: smaller;">
          <li class="fragment" data-fragment-index="1">Here's what happens when you take an image and divide it into equal-sized blocks.
          <li class="fragment" data-fragment-index="2">Then, you encrypt each block separately using a symmetric key and AES.</li>
          <li class="fragment" data-fragment-index="3">This block mode is known as the Electronic Codebook (ECB).</li>
          <li class="fragment" data-fragment-index="4">Ideally, the encrypted message should look like random noise!</li>
        </ul>
        <p class="fragment friendly-aside left">This isn't meant to scare you, but to show that even with good ciphers, you can still screw up cryptography!</p>

        <aside class="notes">
          Also note that just because the right image <em>looks</em> random doesn't mean its actually random.
        </aside>
      </section>

      <section>
        <h3>Block cipher modes of operation</h3>
        <p class="left">The various block cipher modes each provide their own benefits besides simply eliminating patterns in ciphertext</p>
        <ul>
          <li class="fragment">Allowing the use of an initialization vector so that identical plaintexts encrypt differently</li>
          <li class="fragment">Change block ciphers to function like stream ciphers, eliminating the need for padding</li>
          <li class="fragment">Increased performance through use of parallelization</li>
        </ul>
      </section>

      <section>
        <h3>Block cipher modes of operation</h3>
        <p><img src="images/third-party/Block_mode_operation_CBC.svg" style="background: none; border: 0; box-shadow: none; margin: 0;" height="240" /></p>
        <p>This is the cipher block chaining (CBC) mode of operation</p>
        <ul>
          <li class="fragment">⊕ the first block of plaintext with an IV</li>
          <li class="fragment">Use key and block cipher to encrypt block</li>
          <li class="fragment">All future blocks ⊕ the plaintext with the previous block's ciphertext prior to encryption</li>
        </ul>
        <p class="fragment friendly-aside">This slide is for educational purposes and should not be construed as an endorsement of CBC mode.</p>
        <aside class="notes">
          The IV prevents patterns between messages in the first block, and the XORing thereon prevents further patterns.
        </aside>
      </section>

      <section>
        <p><em>Unfortunately, symmetric-key cryptography doesn't solve the most persistent of cryptography problems.</em></p>
      </section>

      <section>
        <h3>Key management</h3>
        <p>Symmetric-key cryptography becomes impossible to scale as the number of parties grows.</p>
      </section>

      <section>
        <h3>Key exchange</h3>
        <p><img src="images/first-party/alice_and_bob.svg" style="background: none; border: 0; box-shadow: none; margin: 0;" height="400" /></p>
        <p>Meet Alice and Bob.</p>
        <p class="fragment">They want to have a conversation.</p>
      </section>

      <section>
        <h3>Key exchange</h3>
        <p><img src="images/first-party/alice_and_bob_key.svg" style="background: none; border: 0; box-shadow: none; margin: 0;" height="400" /></p>
        <p>No problem, they physically meet up and exchange a key.</p>
        <p class="fragment">One key for two parties.</p>
        <p class="fragment"><em>But what happens when we add more parties?</em></p>
      </section>

      <section>
        <h3>Key exchange</h3>
        <p><img src="images/first-party/alice_and_bob_key_five.svg" style="background: none; border: 0; box-shadow: none; margin: 0;" height="550" /></p>
        <p>With just five parties, we're already up to 10 keys!</p>
      </section>

      <section>
        <h3>Key management</h3>
        <table>
          <tr>
            <th>Number of parties</th>
            <th>Number of key pairs</th>
          </tr>
          <tr>
            <td>2</td>
            <td>1</td>
          </tr>
          <tr>
            <td>3</td>
            <td>3</td>
          </tr>
          <tr>
            <td>5</td>
            <td>10</td>
          </tr>
          <tr>
            <td>10</td>
            <td>45</td>
          </tr>
          <tr>
            <td>100</td>
            <td>4950</td>
          </tr>
          <tr>
            <td>1000</td>
            <td>499,500</td>
          </tr>
          <tr>
            <td>US population</td>
            <td>52 quadrillion</td>
          </tr>
          <tr>
            <td>World population</td>
            <td>2.54 x 10<sup>19</sup></td>
          </tr>
        </table>
        <aside class="notes">
          The number of key pairs is (n * n-1) / 2, where n is the number of parties.
        </aside>
      </section>

      <section>
        <h3><em>Symmetric-key cryptography<br />just doesn't scale.</em></h3>
        <p class="fragment">So how do we fix this?</p>
      </section>

      <section>
        <h2>Public-key cryptography</h2>
        <p class="fragment"><em>Or asymmetric-key cryptography,<br />if you prefer to think of it that way.</em></p>
      </section>

      <section>
        <p><img src="images/third-party/Whitfield_Diffie.png"></p>
        <p>In 1976, this guy struck upon a pair of brilliant ideas.</p>
      </section>

      <section>
        <p><em>What if, instead of needing to meet ahead of time to exchange keys, two people could exchange keys remotely?</em></p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/eve.svg" height="400"></p>
        <p>And an eavesdropper <strong>couldn't</strong><br /> figure out what their key was?</p>
        <p style="font-size: smaller; font-style: oblique;">(Let's all give a hearty welcome to our eavesdropper, Eve!)</p>
      </section>

      <section>
        <p>Welcome to Diffie-Hellman key exchange!</p>
        <p><img class="plain" src="images/first-party/alice_and_bob_key_with_eve_diffie_hellman.svg" height="400"></p>
        <p>Diffie-Hellman key exchange allows two parties who have had no prior communications to jointly establish a key remotely, even when their method of communication is insecure.</p>
      </section>

      <section style="padding: 0;">
        <p style="margin: 0;"><img class="plain" src="images/third-party/Diffie-Hellman_Key_Exchange_with_Eve.svg" height="700"></p>
      </section>

      <section style="padding-top: 0;">
        <table class="diffie">
          <tr>
            <th colspan="2"><img class="plain" src="images/first-party/alice.svg" height="80"></th>
            <th colspan="2"><img class="plain" src="images/first-party/bob.svg" height="80"></th>
            <th colspan="2"><img class="plain" src="images/first-party/eve_sad.svg" height="80"></th>
          </tr>
          <tr>
            <th>Known</th>
            <th>Unknown</th>
            <th>Known</th>
            <th>Unknown</th>
            <th>Known</th>
            <th>Unknown</th>
          </tr>
          <tr class="fragment" data-fragment-index="1">
            <td><span class="blue">p</span> = <span class="blue">23</span>, <span class="blue">g</span> = <span class="blue">5</span></td>
            <td></td>
            <td><span class="blue">p</span> = <span class="blue">23</span>, <span class="blue">g</span> = <span class="blue">5</span></td>
            <td></td>
            <td><span class="blue">p</span> = <span class="blue">23</span>, <span class="blue">g</span> = <span class="blue">5</span></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="2">
            <td><span class="red">a</span> = <span class="red">6</span></td>
            <td><span class="red">b</span></td>
            <td><span class="red">b</span> = <span class="red">15</span></td>
            <td><span class="red">a</span></td>
            <td></td>
            <td><span class="red">a</span>, <span class="red">b</span></td>
          </tr>
          <tr class="fragment" data-fragment-index="3">
            <td><span class="blue">A</span> = <span class="blue">g</span><sup class="red">a</sup> mod <span class="blue">p</span></td>
            <td></td>
            <td><span class="blue">B</span> = <span class="blue">g</span><sup class="red">b</sup> mod <span class="blue">p</span></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="3">
            <td><span class="blue">A</span> = <span class="blue">5</span><sup class="red">6</sup> mod <span class="blue">23</span> = <span class="blue">8</3></td>
            <td></td>
            <td><span class="blue">B</span> = <span class="blue">5</span><sup class="red">15</sup> mod <span class="blue">23</span> = <span class="blue">19</span></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="4">
            <td><span class="blue">B</span> = <span class="blue">19</span></td>
            <td></td>
            <td><span class="blue">A</span> = <span class="blue">8</span></td>
            <td></td>
            <td><span class="blue">A</span> = <span class="blue">8</span>, <span class="blue">B</span> = <span class="blue">19</span></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="5">
            <td><span class="red">s</span> = <span class="blue">B</span><sup class="red">a</sup> mod <span class="blue">p</span></td>
            <td></td>
            <td><span class="red">s</span> = <span class="blue">A</span><sup class="red">b</sup> mod <span class="blue">p</span></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="5">
            <td><span class="red">s</span> = <span class="blue">19</span><sup class="red">6</sup> mod <span class="blue">23</span> = <span class="red">2</span></td>
            <td></td>
            <td><span class="red">s</span> = <span class="blue">8</span><sup class="red">15</sup> mod <span class="blue">23</span> = <span class="red">2</span></td>
            <td></td>
            <td><span class="red">s</span> = <span class="blue">19</span><sup class="red">a</sup> mod <span class="blue">23</span><br><span class="red">s</span> = <span class="blue">8</span><sup class="red">b</sup> mod <span class="blue">23</span></td>
            <td></td>
          </tr>
          <tr class="fragment" data-fragment-index="6">
            <td><span class="red">s</span> = <span class="red">2</span></td>
            <td></td>
            <td><span class="red">s</span> = <span class="red">2</span></td>
            <td></td>
            <td></td>
            <td><span class="red">s</span></td>
          </tr>
        </table>
        <p style="font-size: .7em; margin: .5em 0;"><span class="blue">Blue</span> values are public, whereas <span class="red">red</span> values are private (secret).</p>
        <ul style="font-size: .6em;">
          <li class="fragment" data-fragment-index="1">Alice and Bob agree upon a public prime base (<span class="blue">g</span>) and a public prime modulus (<span class="blue">p</span>)</li>
          <li class="fragment" data-fragment-index="2">Alice chooses a secret private key (<span class="red">a</span>), and Bob chooses a secret private key (<span class="red">b</span>)</li>
          <li class="fragment" data-fragment-index="3">Alices calculates <span class="blue">g</span><sup class="red">a</sup> mod <span class="blue">p</span>, and Bob calculates <span class="blue">g</span><sup class="red">b</sup> mod <span class="blue">p</span></li>
          <li class="fragment" data-fragment-index="4">Alice sends Bob her public key (<span class="blue">A</span>), and Bob sends Alice her public key (<span class="blue">B</span>)</li>
          <li class="fragment" data-fragment-index="5">Alice calculates <span class="blue">B</span><sup class="red">a</sup> mod <span class="blue">p</span>, and Bob calculates <span class="blue">A</span><sup class="red">b</sup> mod <span class="blue">p</span> to arrive at a shared key (<span class="red">s</span>)</li>
          <li class="fragment" data-fragment-index="6">Since Eve knows neither <span class="red">a</span> nor <span class="red">b</span>, she can't determine the shared key</li>
        </ul>
        <aside class="notes">
          Of course, in reality, the numbers p, a, and b are <strong>much</strong> larger.
        </aside>
      </section>

      <section>
        <p>Alas, Diffie-Hellman key exchange has a fatal flaw.</p>
      </section>

      <section>
        <p><img src="images/first-party/eve.svg" class="plain" height="400">
        <p>While it protects against eavesdroppers like Eve, it doesn't help against someone a bit more... <em>malicious</em>.</p>
        <aside class="notes">
          Obviously, if we're talking voice, it's a lot easier.  But what if it's a computer?
        </aside>
      </section>

      <section>
        <p><img src="images/first-party/mallory.svg" class="plain" height="400"></p>
        <p style="font-size: smaller; font-style: oblique;">Say hello to Mallory, everyone!</p>
        <p class="fragment">Mallory just <strong>loves</strong> to sit in the<br />middle of conversations and meddle with them.</p>
        <p class="fragment friendly-aside">Who does things like that?</p>
      </section>

      <section>
        <p><img src="images/first-party/alice_and_bob_key_with_mallory_diffie_hellman_part1.svg" class="plain" height="400"></p>
        <p>What if Mallory sat in the middle of a conversation between Alice and Bob, pretending to be the other person?</p>
      </section>

      <section>
        <p><img src="images/first-party/alice_and_bob_key_with_mallory_diffie_hellman_part2.svg" class="plain" height="400"></p>
        <p>Alice would do her key exchange with Mallory, while Bob would do a different key exchange with Mallory.</p>
      </section>

      <section>
        <p><img src="images/first-party/alice_and_bob_key_with_mallory_diffie_hellman_part3.svg" class="plain" height="400"></p>
        <p>In the end, Alice and Bob would both think that they had securely exchanged keys, but really they would both be talking to Mallory.</p>
      </section>

      <section>
        <p>Alice and Bob are both having perfectly secret conversations with Mallory.</p>
        <p class="fragment" style="padding-top: 2em;">In cryptography, we would say that we have achieved <strong>confidentiality</strong>, but we don't yet have <strong>authenticity</strong>.</p>
      </section>

      <section>
        <p><img src="images/third-party/Whitfield_Diffie.png"></p>
        <p>So what about his other idea?</p>
      </section>

      <section>
        <p><img src="images/first-party/alice_and_bob_key.svg" class="plain"></p>
        <p><em>What if, instead of two people sharing a key...</em></p>
      </section>

      <section>
        <p>
          <img src="images/first-party/public_key_with_text.svg" class="fragment plain" data-fragment-index="1" height="300">
          <img src="images/first-party/private_key_with_text.svg" class="fragment plain" data-fragment-index="2" height="300">
        </p>
        <p><em>...each person had two keys?</em></p>
        <p class="fragment" data-fragment-index="1" >A public key that they could give out to anyone.</p>
        <p class="fragment" data-fragment-index="2" >And a private key that they kept to themselves.</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/public_key_cryptography.svg" height="400"></p>
        <p>And what if that public key could encrypt messages that <em>only</em> the private key could decrypt?</p>
      </section>

      <section>
        <p>Well, it was <a href="http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1055638">great idea</a>.</p>
        <p>But he &mdash; nor anybody else &mdash; knew how to<br />make the mathematics work.</p>
        <aside class="notes">
          Technically Clifford Cocks at the GCHQ had figured it out in 1973, but it was classified at the time.
        </aside>
      </section>

      <section>
        <p>Luckily for all of us, a trio of folks by the name of Ron Rivest, Adi Shamir, and Leonard Adleman discovered a way to make it work.</p>
        <p class="fragment friendly-aside">You might know them by their initials: RSA</p>
      </section>

      <section>
        <h2>RSA cryptosystem</h2>
        <p>RSA is based on a one-way mathematical function known as a "trapdoor function". These functions are easy to do in one direction, but difficult to do in the other direction.</p>
        <p class="fragment">More specifically, RSA relies on the difficulty of factoring the multiple of two large prime numbers.</p>
      </section>

      <section>
        <h3>RSA: a simple example</h3>
        <ul>
          <li>Choose two prime numbers (<span class="red">p</span> = <span class="red">89</span>, <span class="red">q</span> = <span class="red">101</span>); these are the <em>private key</em>.</li>
          <li class="fragment" data-fragment-index="1">Multiple these numbers together (<span class="blue">n</span> = <span class="red">p</span> × <span class="red">q</span> = <span class="blue">8989</span>); this value (along with a few extra bits) is the <em>public key</em>.</li>
        </ul>
        <p class="fragment friendly-aside" data-fragment-index="1" style="margin: .2em auto;">So easy, even a calculator can do it!</p>
        <ul>
          <li class="fragment" data-fragment-index="2">Now think about how you would try to figure out the factors of <span class="blue">n</span>, if you didn't know <span class="red">p</span> and <span class="red">q</span> already.</li>
        </ul>
        <p class="fragment friendly-aside" data-fragment-index="2" style="margin: .2em auto;">Is it divisible by 2? Nope. How about 3? 5? 7? ...</p>
        <ul>
          <li class="fragment" data-fragment-index="3">In reality, <span class="red">p</span> and <span class="red">q</span> are hundreds of digits long, making it infeasible for a computer to determine what the private key is, even knowing the value of <span class="blue">n</span>.</li>
        </ul>
      </section>

      <section>
        <p>Let's take a look at how RSA encryption works in practice...</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_part1.svg" height="400"></p>
        <p>First, Alice asks Bob for a copy of his public key.</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_part2.svg" height="400"></p>
        <p>Once she has Bob's public key,<br />she then encrypts her message with it.</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_part3.svg" height="400"></p>
        <p>Next, Alice sends the ciphertext to Bob.</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_part4.svg" height="400"></p>
        <p>Finally, Bob decrypts the ciphertext with his private key.</p>
      </section>

      <section>
        <p>Now with 100 people, we just need 100 public-private key pairs, instead of 4950 shared keys.</p>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_signing.svg" height="400"></p>
        <p>Plus, Bob can encrypt messages with his private key that anybody can decrypt to prove his identity.</p>
        <p class="fragment">We call this <strong>signing</strong>, but more on that later.</p>
      </section>      

      <section>
        <h3>I think it's safe to pack it in.</h3>
        <h3>Cryptography is a solved problem.</h3>
      </section>

      <section>
        <h3><em>Not so fast!</em></h3>
      </section>

      <section>
        <h3>Public-key cryptography</h3>
        <ul>
          <li>Advantages
            <ul>
              <li>Solves the key distribution problem</li>
              <li>Authenticates of the origin of messages</li>
            </ul>
          </li>
          <li>Disadvantages
            <ul>
              <li class="fragment">Computationally very slow
                <ul>
                  <li>Hundreds of times of slower than symmetric-key crypto</li>
                </ul>
              </li>
              <li class="fragment">Requires very large keys
                <ul>
                  <li>RSA keys are typically 2048 bits</li>
                  <li>AES are typically a mere 128-256 bits</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
        <p class="fragment friendly-aside">This is 16x larger to transmit, and 2<sup>1920</sup>x larger for calculations</em>
      </section>

      <section>
        <p><img class="plain" src="images/first-party/alice_and_bob_with_eve_rsa_part5.svg" height="400"></p>
        <p>Also, how <em>does</em> Alice know that she's actually getting Bob's public key when she asks for it?</p>
        <p class="fragment friendly-aside">We'll get to that, but there's a few more<br />concepts we need to understand first!</p>
      </section>

      <section>
        <h2>Hash functions</h2>
        <p class="friendly-aside">They just don't make concepts like this anymore!</p>
      </section>

      <section>
        <h3>Hash functions</h3>
        <p><img class="plain" src="images/first-party/hash_function.svg" height="450"></p>
        <p>Cryptographic hash functions take any size input and convert it to a fixed size output called a <strong>hash</strong> or <strong>message digest</strong></p>
      </section>

      <section>
        <h3>Hash functions</h3>
        <ul>
          <li class="fragment">Always result in the same size output (typically 128-512 bits), regardless of input size</li>
          <li class="fragment">Sensitive to input changes: a single bit difference in the input should result in a completely different hash</li>
          <li class="fragment">Make it difficult to find two different inputs that result in the same output (<strong>collision resistance</strong>)</li>
          <li class="fragment">Aren't reversible: you can't go from the hash back to the original message</li>
        </ul>
      </section>

      <section>
        <p>What might this look like?</p>
        <div class="pre-box-container command-line">
          <div class="pre-box-row command-line">
            $&nbsp;<span class="fragment" data-autoslide="80">s</span><span class="fragment" data-autoslide="80">h</span><span class="fragment" data-autoslide="80">a</span><span class="fragment" data-autoslide="80">s</span><span class="fragment" data-autoslide="80">u</span><span class="fragment" data-autoslide="80">m</span><span class="fragment" data-autoslide="80">&nbsp;</span><span class="fragment" data-autoslide="80">f</span><span class="fragment" data-autoslide="80">i</span><span class="fragment" data-autoslide="80">r</span><span class="fragment" data-autoslide="80">e</span><span class="fragment" data-autoslide="80">f</span><span class="fragment" data-autoslide="80">o</span><span class="fragment" data-autoslide="250">x</span>
          </div>
          <div class="pre-box-row command-line"><span class="fragment" data-autoslide="1000000000">b93d1da594d1173c53f1dd1fb9dda5af1864c10b</span>
          </div>
        </div>
       </section>

      <section>
        <h3>Hash verification</h3>
        <p><img class="plain" src="images/first-party/hash_function2.svg" height="400"></p>
        <p>First, Alice creates a hash of her message, and then sends the message and hash onto her ol' pal Bob.</p>
        <p class="fragment friendly-aside">P.S. This is terribly insecure, please don't do this!</p>
      </section>

      <section>
        <h3>Hash verification</h3>
        <p><img class="plain" src="images/first-party/hash_function3.svg" height="320"></p>
        <p>Once Bob receives Alice's message, he runs it through the same hash function and then compares it to the hash he received from Alice.</p>
      </section>

      <section>
        <h3>Hash verification</h3>
        <p><img class="plain" src="images/first-party/hash_function4.svg" height="320"></p>
        <p>But how does Bob know that the message and hash weren't replaced with an entirely different message and associated hash, from Mallory?</p>
      </section>

    </div>
  </div>

 
  <script>
    // Let's startup reveal.js!
    Reveal.initialize({
      controls: false,
      height: 700,
      history: true,
      margin: .05,
      minScale: .1,
      slideNumber: 'c / t',
      width: 960,

      dependencies: [
        { src: 'plugin/notes/notes.js', async: true }
      ]
    });
  </script>
</body>
</html>
